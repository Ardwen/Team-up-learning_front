{"ast":null,"code":"import _toConsumableArray from\"/Users/owner/Desktop/teamapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/owner/Desktop/teamapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"antd/dist/antd.css\";import CourseBox from\"./Components/box.js\";import FriendsInvite from\"./Components/Invite.js\";import API from\"../../Utils/api.js\";import{Link}from\"react-router-dom\";import{Modal,Button,Form,Input,DatePicker,TimePicker,Table,Tag,Space}from\"antd\";import{PlusOutlined}from\"@ant-design/icons\";var RangePicker=TimePicker.RangePicker;function CourseDashboard(props){var columns=[{title:\"Course Name\",dataIndex:\"courseName\",key:\"courseName\",render:function render(text){return/*#__PURE__*/React.createElement(\"p\",null,text);}},{title:\"Date\",dataIndex:\"date\",key:\"date\"},{title:\"Time\",dataIndex:\"time\",key:\"time\",render:function render(time){return/*#__PURE__*/React.createElement(\"p\",null,\"\".concat(time[0],\"-\").concat(time[1]));}},{title:\"Participants\",key:\"participants\",dataIndex:\"participants\",render:function render(participants){return/*#__PURE__*/React.createElement(React.Fragment,null,participants.map(function(name){return/*#__PURE__*/React.createElement(Tag,{color:\"geekblue\",key:name},name);}));}},{title:\"Action\",key:\"action\",dataIndex:\"courseID\",render:function render(text){return/*#__PURE__*/React.createElement(Space,{size:\"middle\"},/*#__PURE__*/React.createElement(Link,{to:\"/room/\".concat(text)},\" Enter Room\"));}},{title:\"Delete\",key:\"delete\",dataIndex:\"key\",render:function render(id){return/*#__PURE__*/React.createElement(Space,{size:\"middle\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return handleDelete(id);}},\" Delete \"));}}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),courselist=_useState2[0],setcourselist=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),visible=_useState4[0],setvisible=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),confirmLoading=_useState6[0],setconfirmLoading=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),title=_useState8[0],settitle=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),date=_useState10[0],setdate=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),time=_useState12[0],settime=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),participants=_useState14[0],setparticipants=_useState14[1];var refresh=function refresh(){var username=sessionStorage.getItem('username');var token=sessionStorage.getItem('access_token');API.get(\"user/\".concat(username),{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){console.log(res.data);var rows=res.data.courses.map(function(item,i){return{key:i,courseName:item.courseName,date:item.date,time:item.time,participants:item.participants,courseID:item._id};});setcourselist(rows);});};useEffect(function(){var username=sessionStorage.getItem('username');var token=sessionStorage.getItem('access_token');API.get(\"user/\".concat(username),{headers:{\"Authorization\":\"Bearer \".concat(token)}}).then(function(res){console.log(res.data);var rows=res.data.courses.map(function(item,i){return{key:i,courseName:item.courseName,date:item.date,time:item.time,participants:item.participants,courseID:item._id};});setcourselist(rows);});},[]);var handleCancel=function handleCancel(){setvisible(false);setdate(\"\");settime([]);setparticipants([]);settitle(\"\");};var onTitleChange=function onTitleChange(event){settitle(event.currentTarget.value);};var onDateChange=function onDateChange(value,dateString){setdate(dateString);};var onTimeChange=function onTimeChange(value,timeString){console.log(timeString[0]+\"-\"+timeString[1]);settime(timeString);};var enterRoom=function enterRoom(id){console.log(id);};var handleDelete=function handleDelete(key){var dataSource=_toConsumableArray(courselist);var id=dataSource[key].courseID;var username=sessionStorage.getItem('username');console.log(dataSource[key].courseID);setcourselist(dataSource.filter(function(item){return item.key!==key;}));API.delete(\"course/\".concat(username,\"/\").concat(id)).then(function(res){console.log(res.data);});};var callbackFunction=function callbackFunction(childData){setparticipants([].concat(_toConsumableArray(participants),[childData]));};var handleOk=function handleOk(){var user=sessionStorage.getItem('username');var dataToSubmit={courseName:title,date:date,time:time,participants:participants,host:user};console.log(dataToSubmit);API.post(\"course/add\",dataToSubmit).then(function(res){if(res.status!==200){alert(\"submit error\");return;}else{refresh();}});setvisible(false);setdate(\"\");settime([]);setparticipants([]);settitle(\"\");};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(CourseBox,{box1:courselist.length,c2:props.c2,c3:props.c3}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{type:\"dashed\",onClick:function onClick(){return setvisible(true);},style:{width:\"60%\"}},/*#__PURE__*/React.createElement(PlusOutlined,null),\" Add Course\"),/*#__PURE__*/React.createElement(Modal,{title:\"Schedule new course\",visible:visible,onOk:handleOk,confirmLoading:confirmLoading,onCancel:handleCancel},/*#__PURE__*/React.createElement(Form,{labelCol:{span:6},wrapperCol:{span:14},layout:\"horizontal\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"CourseName\"},/*#__PURE__*/React.createElement(Input,{onChange:onTitleChange,value:title})),/*#__PURE__*/React.createElement(Form.Item,{label:\"Select Date\"},/*#__PURE__*/React.createElement(DatePicker,{onChange:onDateChange//value={this.state.date}\n})),/*#__PURE__*/React.createElement(Form.Item,{label:\"Select Time\"},/*#__PURE__*/React.createElement(RangePicker,{onChange:onTimeChange//value={this.state.time}\n})),/*#__PURE__*/React.createElement(Form.Item,{label:\"Invite Friends\"},/*#__PURE__*/React.createElement(FriendsInvite,{parentCallback:callbackFunction})))),/*#__PURE__*/React.createElement(\"div\",{style:{width:\"80%\",margin:\"3rem auto\"}},/*#__PURE__*/React.createElement(\"div\",{style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"h1\",null,\" Lecture Schedule\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Table,{columns:columns,dataSource:courselist})));}export default CourseDashboard;","map":{"version":3,"sources":["/Users/owner/Desktop/teamapp/src/View/CourseManagementBoard/coursedashboard.js"],"names":["React","useEffect","useState","CourseBox","FriendsInvite","API","Link","Modal","Button","Form","Input","DatePicker","TimePicker","Table","Tag","Space","PlusOutlined","RangePicker","CourseDashboard","props","columns","title","dataIndex","key","render","text","time","participants","map","name","id","handleDelete","courselist","setcourselist","visible","setvisible","confirmLoading","setconfirmLoading","settitle","date","setdate","settime","setparticipants","refresh","username","sessionStorage","getItem","token","get","headers","then","res","console","log","data","rows","courses","item","i","courseName","courseID","_id","handleCancel","onTitleChange","event","currentTarget","value","onDateChange","dateString","onTimeChange","timeString","enterRoom","dataSource","filter","delete","callbackFunction","childData","handleOk","user","dataToSubmit","host","post","status","alert","length","c2","c3","width","span","margin","textAlign"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from \"react\";\nimport \"antd/dist/antd.css\";\nimport CourseBox from \"./Components/box.js\";\nimport FriendsInvite from \"./Components/Invite.js\";\nimport API from \"../../Utils/api.js\";\nimport {Link} from \"react-router-dom\";\nimport {\n  Modal,\n  Button,\n  Form,\n  Input,\n  DatePicker,\n  TimePicker,\n  Table,\n  Tag,\n  Space\n} from \"antd\";\nimport { PlusOutlined } from \"@ant-design/icons\";\nconst { RangePicker } = TimePicker;\n\n\nfunction CourseDashboard(props){\n  const columns=[\n    {\n      title: \"Course Name\",\n      dataIndex: \"courseName\",\n      key: \"courseName\",\n      render: (text) => <p>{text}</p>\n    },\n\n    {\n      title: \"Date\",\n      dataIndex: \"date\",\n      key: \"date\"\n    },\n    {\n      title: \"Time\",\n      dataIndex: \"time\",\n      key: \"time\",\n      render: (time) => <p>{`${time[0]}-${time[1]}`}</p>\n    },\n    {\n      title: \"Participants\",\n      key: \"participants\",\n      dataIndex: \"participants\",\n      render: (participants) => (\n        <>\n          {participants.map((name) => {\n            return (\n              <Tag color={\"geekblue\"} key={name}>\n                {name}\n              </Tag>\n            );\n          })}\n        </>\n      )\n    },\n    {\n      title: \"Action\",\n      key: \"action\",\n      dataIndex: \"courseID\",\n      render: (text) => (\n        <Space size=\"middle\">\n          <Link to={`/room/${text}`}> Enter Room</Link>\n        </Space>\n      )\n    },\n    {\n      title: \"Delete\",\n      key: \"delete\",\n      dataIndex: \"key\",\n      render: (id) => (\n        <Space size=\"middle\">\n          <button onClick={()=>handleDelete(id)}> Delete </button>\n        </Space>\n      )\n    }\n\n  ];\n\n  const [courselist, setcourselist] = useState([]);\n  const [visible, setvisible] = useState(false);\n  const [confirmLoading, setconfirmLoading] = useState(false);\n  const [title, settitle] = useState(\"\");\n  const [date, setdate] = useState(\"\");\n  const [time, settime] = useState([]);\n  const [participants, setparticipants] = useState([]);\n\n  const refresh=()=>{\n    const username = sessionStorage.getItem('username');\n    const token = sessionStorage.getItem('access_token');\n    API.get(`user/${username}`,{ headers: {\"Authorization\" : `Bearer ${token}`}})\n      .then(res => {\n        console.log(res.data);\n        let rows = res.data.courses.map((item,i) => {\n           return {\n             key:i,\n             courseName:item.courseName,\n             date:item.date,\n             time:item.time,\n             participants:item.participants,\n             courseID:item._id};\n        });\n        setcourselist(rows);\n      })\n  }\n\n  useEffect(() => {\n    const username = sessionStorage.getItem('username');\n    const token = sessionStorage.getItem('access_token');\n    API.get(`user/${username}`,{ headers: {\"Authorization\" : `Bearer ${token}`}})\n      .then(res => {\n        console.log(res.data);\n        let rows = res.data.courses.map((item,i) => {\n           return {\n             key:i,\n             courseName:item.courseName,\n             date:item.date,\n             time:item.time,\n             participants:item.participants,\n             courseID:item._id};\n        });\n        setcourselist(rows);\n      })\n  },[]);\n\n  const handleCancel=()=>{\n    setvisible(false);\n    setdate(\"\");\n    settime([]);\n    setparticipants([]);\n    settitle(\"\");\n  }\n\n  const onTitleChange=(event)=>{\n    settitle(event.currentTarget.value);\n  }\n\n  const onDateChange=(value, dateString)=>{\n    setdate(dateString);\n  }\n\n  const onTimeChange=(value, timeString)=>{\n    console.log(timeString[0] + \"-\" + timeString[1]);\n    settime(timeString);\n  }\n\n\n    const enterRoom=(id)=> {\n      console.log(id);\n    };\n\n    const handleDelete=(key)=> {\n      var dataSource = [...courselist];\n      var id = dataSource[key].courseID;\n      var username = sessionStorage.getItem('username');\n      console.log(dataSource[key].courseID);\n      setcourselist(dataSource.filter(item => item.key !== key));\n      API.delete(`course/${username}/${id}`).then((res) => {\n        console.log(res.data);\n      });\n    };\n\n    const callbackFunction = (childData) => {\n      setparticipants([...participants,childData]);\n    }\n\n    const handleOk=()=>{\n      let user = sessionStorage.getItem('username');\n      let dataToSubmit = {\n        courseName: title,\n        date: date,\n        time: time,\n        participants: participants,\n        host: user\n      };\n      console.log(dataToSubmit);\n\n\n      API.post(`course/add`, dataToSubmit).then((res) => {\n        if (res.status !== 200) {\n          alert(\"submit error\");\n          return;\n        } else {\n          refresh();\n        }\n      });\n      setvisible(false);\n      setdate(\"\");\n      settime([]);\n      setparticipants([]);\n      settitle(\"\");\n    }\n\n\n\n    return(\n      <div>\n        <CourseBox box1={courselist.length} c2={props.c2} c3={props.c3}/>\n        <br />\n        <Button\n          type=\"dashed\"\n          onClick={() => setvisible(true)}\n          style={{ width: \"60%\" }}\n        >\n          <PlusOutlined /> Add Course\n        </Button>\n        <Modal\n          title=\"Schedule new course\"\n          visible={visible}\n          onOk={handleOk}\n          confirmLoading={confirmLoading}\n          onCancel={handleCancel}\n        >\n          <Form\n            labelCol={{\n              span: 6\n            }}\n            wrapperCol={{\n              span: 14\n            }}\n            layout=\"horizontal\"\n          >\n            <Form.Item label=\"CourseName\">\n              <Input onChange={onTitleChange} value={title} />\n            </Form.Item>\n            <Form.Item label=\"Select Date\">\n              <DatePicker\n                onChange={onDateChange}\n                //value={this.state.date}\n              />\n            </Form.Item>\n            <Form.Item label=\"Select Time\">\n              <RangePicker\n                onChange={onTimeChange}\n                //value={this.state.time}\n              />\n            </Form.Item>\n            <Form.Item label=\"Invite Friends\">\n              <FriendsInvite parentCallback = {callbackFunction}/>\n            </Form.Item>\n          </Form>\n        </Modal>\n        <div style={{ width: \"80%\", margin: \"3rem auto\" }}>\n          <div style={{ textAlign: \"center\" }}>\n            <h1> Lecture Schedule</h1>\n          </div>\n          <br />\n          <Table columns={columns} dataSource={courselist} />\n        </div>\n      </div>\n    );\n}\n\nexport default CourseDashboard;\n"]},"metadata":{},"sourceType":"module"}