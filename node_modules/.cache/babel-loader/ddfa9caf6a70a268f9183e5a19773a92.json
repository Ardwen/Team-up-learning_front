{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/Team-up-learning_front/src/View/CourseManagementBoard/mailbox.js\";\nimport React from \"react\";\nimport { Col, Card, Row } from \"antd\";\nimport { TeamOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport API from \"../../Utils/api.js\";\nconst {\n  Meta\n} = Card;\n\nclass Mailbox extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      invitations: []\n    };\n  }\n\n  componentWillMount() {\n    let user = sessionStorage.getItem('username');\n    const token = sessionStorage.getItem('access_token');\n    API.get(`user/${user}`, {\n      headers: {\n        \"Authorization\": `Bearer ${token}`\n      }\n    }).then(res => {\n      console.log(res.data.mailBox);\n      let rows = res.data.mailBox.map((item, i) => {\n        return {\n          key: i,\n          _id: item._id,\n          courseName: item.courseName,\n          date: item.date,\n          time: item.time,\n          participants: item.participants,\n          sendById: item.sentByID,\n          courseID: item.courseID\n        };\n      });\n      this.setState({\n        invitations: rows\n      });\n    });\n  }\n\n  HandleDelete(id, index) {\n    API.delete(`/mailBox/${id}`).then(response => {\n      var array = [...this.state.invitations];\n      array.splice(index, 1);\n      this.setState({\n        invitations: array\n      });\n      this.props.history.push('/dashboard');\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  HandleSubmit(id, index) {\n    API.get(`/mailBox/accept/${id}`).then(response => {\n      var array = [...this.state.invitations];\n      array.splice(index, 1);\n      this.setState({\n        invitations: array\n      });\n      this.props.history.push('/dashboard');\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  renderCards(invitations) {\n    invitations.map((Item, index) => {\n      return /*#__PURE__*/React.createElement(Col, {\n        span: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        title: `${Item.sendById} invitation`,\n        style: {\n          width: 300\n        },\n        hoverable: true,\n        actions: [/*#__PURE__*/React.createElement(TeamOutlined, {\n          onClick: this.HandleSubmit(Item._id, Item.key),\n          key: \"Join\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(DeleteOutlined, {\n          onClick: this.HandleDelete(Item._id, Item.key),\n          key: \"Decline\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }\n        })],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }\n      }, `${Item.sendById} invites you to join the studying on course ${Item.courseName}\n                  The meeting will start at ${Item.time[0]}-${Item.time[1]} on ${Item.date}`)));\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        maxWidth: \"700px\",\n        margin: \"2rem auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }\n    }), this.state.invitations.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        height: \"300px\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, \"No post yet...\")) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 13\n      }\n    }, this.state.invitations.map((Item, index) => {\n      return /*#__PURE__*/React.createElement(Col, {\n        span: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        title: `${Item.sendById} invitation`,\n        style: {\n          width: 300\n        },\n        hoverable: true,\n        actions: [/*#__PURE__*/React.createElement(TeamOutlined, {\n          onClick: () => this.HandleSubmit(Item._id, Item.key),\n          key: \"Join\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 23\n          }\n        }), /*#__PURE__*/React.createElement(DeleteOutlined, {\n          onClick: () => this.HandleDelete(Item._id, Item.key),\n          key: \"Decline\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 23\n          }\n        })],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }\n      }, `${Item.sendById} invites you to join the studying on course ${Item.courseName}\n                          The meeting will start at ${Item.time[0]}-${Item.time[1]} on ${Item.date}`)));\n    }))));\n  }\n\n}\n\nexport default Mailbox;","map":{"version":3,"sources":["/Users/owner/Desktop/Team-up-learning_front/src/View/CourseManagementBoard/mailbox.js"],"names":["React","Col","Card","Row","TeamOutlined","DeleteOutlined","API","Meta","Mailbox","Component","state","invitations","componentWillMount","user","sessionStorage","getItem","token","get","headers","then","res","console","log","data","mailBox","rows","map","item","i","key","_id","courseName","date","time","participants","sendById","sentByID","courseID","setState","HandleDelete","id","index","delete","response","array","splice","props","history","push","catch","err","HandleSubmit","renderCards","Item","width","render","maxWidth","margin","length","display","height","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Col, Card, Row } from \"antd\";\nimport { TeamOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport API from \"../../Utils/api.js\";\n\nconst { Meta } = Card;\n\nclass Mailbox extends React.Component {\n  state = {\n    invitations: []\n  };\n\n  componentWillMount() {\n    let user= sessionStorage.getItem('username');\n    const token = sessionStorage.getItem('access_token');\n    API.get(`user/${user}`,{ headers: {\"Authorization\" : `Bearer ${token}`}})\n      .then(res => {\n        console.log(res.data.mailBox);\n        let rows = res.data.mailBox.map((item,i) => {\n           return {\n             key:i,\n             _id:item._id,\n             courseName:item.courseName,\n             date:item.date,\n             time:item.time,\n             participants:item.participants,\n             sendById:item.sentByID,\n             courseID:item.courseID};\n        });\n\n        this.setState({\n          invitations: rows\n        });\n      })\n  }\n\n  HandleDelete(id, index){\n    API.delete(`/mailBox/${id}`)\n      .then((response) => {\n        var array = [...this.state.invitations];\n        array.splice(index, 1);\n        this.setState({\n          invitations: array\n        });\n        this.props.history.push('/dashboard');\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  HandleSubmit(id, index){\n    API.get(`/mailBox/accept/${id}`)\n      .then((response) => {\n        var array = [...this.state.invitations];\n        array.splice(index, 1);\n        this.setState({\n          invitations: array\n        });\n        this.props.history.push('/dashboard');\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  renderCards(invitations){\n    invitations.map((Item, index) => {\n      return (\n        <Col span={6}>\n          <Card\n            title={`${Item.sendById} invitation`}\n            style={{ width: 300 }}\n            hoverable={true}\n            actions={[\n              <TeamOutlined\n              onClick={this.HandleSubmit(Item._id, Item.key)}\n               key=\"Join\" />,\n              <DeleteOutlined\n                onClick={this.HandleDelete(Item._id, Item.key)}\n                key=\"Decline\"\n              />\n            ]}\n          >\n            <p>\n              {`${Item.sendById} invites you to join the studying on course ${Item.courseName}\n                  The meeting will start at ${Item.time[0]}-${Item.time[1]} on ${Item.date}`}\n            </p>\n          </Card>\n        </Col>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div style={{ maxWidth: \"700px\", margin: \"2rem auto\" }}>\n        <br />\n        {this.state.invitations.length === 0 ? (\n          <div\n            style={{\n              display: \"flex\",\n              height: \"300px\",\n              justifyContent: \"center\",\n              alignItems: \"center\"\n            }}\n          >\n            <h2>No post yet...</h2>\n          </div>\n        ) : (\n          <div>\n            <Row>\n            {this.state.invitations.map((Item, index) => {\n              return (\n                <Col span={12}>\n                  <Card\n                    title={`${Item.sendById} invitation`}\n                    style={{ width: 300 }}\n                    hoverable={true}\n                    actions={[\n                      <TeamOutlined\n                      onClick={()=>this.HandleSubmit(Item._id, Item.key)}\n                       key=\"Join\" />,\n                      <DeleteOutlined\n                        onClick={()=>this.HandleDelete(Item._id, Item.key)}\n                        key=\"Decline\"\n                      />\n                    ]}\n                  >\n                    <p>\n                      {`${Item.sendById} invites you to join the studying on course ${Item.courseName}\n                          The meeting will start at ${Item.time[0]}-${Item.time[1]} on ${Item.date}`}\n                    </p>\n                  </Card>\n                </Col>\n              );\n            })}\n\n            </Row>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\nexport default Mailbox;\n"]},"metadata":{},"sourceType":"module"}