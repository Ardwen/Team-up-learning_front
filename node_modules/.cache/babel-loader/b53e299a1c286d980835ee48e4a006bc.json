{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/Team-up-learning_front/src/View/CourseRoomView.js\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport styled from \"styled-components\";\nconst Container = styled.div`\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  flex-direction: row;\n`;\nconst LeftRow = styled.div`\n  width: 40%;\n  height: 100%;\n`;\nconst RightRow = styled.div`\n  flex: 1;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\nconst Video = styled.video`\n  height: 50%;\n  width: 100%;\n  border: 1px solid black;\n`;\n\nconst Room = props => {\n  const socketRef = useRef();\n  const userVideoRef = useRef();\n  const partnerVideo = useRef();\n  const peerRef = useRef();\n  const youtubePlayer = useRef();\n  const [videoID, setVideoID] = useState(\"\");\n  useEffect(() => {\n    function createPeer(partnerID, callerID, stream) {\n      const peer = new Peer({\n        initiator: true,\n        trickle: false,\n        stream\n      });\n      peer.on(\"signal\", signal => {\n        const payload = {\n          partnerID,\n          callerID,\n          signal\n        };\n        socketRef.current.emit(\"call partner\", payload);\n      });\n      peer.on(\"stream\", handleStream);\n      peer.on(\"data\", handleData);\n      return peer;\n    }\n\n    function addPeer(incomingSignal, callerID, stream) {\n      const peer = new Peer({\n        initiator: false,\n        trickle: false,\n        stream\n      });\n      peer.on(\"signal\", signal => {\n        const payload = {\n          callerID,\n          signal\n        };\n        socketRef.current.emit(\"accept call\", payload);\n      });\n      peer.on(\"stream\", handleStream);\n      peer.on(\"data\", handleData);\n      peer.signal(incomingSignal);\n      return peer;\n    }\n\n    navigator.mediaDevices.getUserMedia({\n      video: true,\n      audio: true\n    }).then(stream => {\n      userVideoRef.current.srcObject = stream;\n      socketRef.current = io.connect(\"/\");\n      socketRef.current.emit(\"join room\", props.match.params.roomID);\n      socketRef.current.on(\"other user\", partnerID => {\n        if (partnerID) {\n          peerRef.current = createPeer(partnerID, socketRef.current.id, stream);\n        }\n      });\n      socketRef.current.on(\"caller signal\", incoming => {\n        peerRef.current = addPeer(incoming.signal, incoming.callerID, stream);\n      });\n      socketRef.current.on(\"callee signal\", signal => {\n        peerRef.current.signal(signal);\n      });\n      socketRef.current.on(\"room full\", () => {\n        alert(\"room is full\");\n      });\n    });\n  }, [props.match.params.roomID]);\n  useEffect(() => {\n    const tag = document.createElement(\"script\");\n    tag.src = \"https://www.youtube.com/iframe_api\";\n    var firstScriptTag = document.getElementsByTagName(\"script\")[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n    window.onYouTubeIframeAPIReady = loadVideoPlayer;\n  }, []);\n\n  function loadVideoPlayer() {\n    const player = new window.YT.Player(\"player\", {\n      height: \"390\",\n      width: \"640\"\n    });\n    youtubePlayer.current = player;\n  }\n\n  function stopVideo() {\n    try {\n      peerRef.current.send(JSON.stringify({\n        type: \"pause\"\n      }));\n    } catch (err) {}\n\n    youtubePlayer.current.pauseVideo();\n  }\n\n  function playVideo() {\n    try {\n      peerRef.current.send(JSON.stringify({\n        type: \"play\"\n      }));\n    } catch (err) {}\n\n    youtubePlayer.current.playVideo();\n  }\n\n  function loadVideo() {\n    try {\n      peerRef.current.send(JSON.stringify({\n        type: \"newVideo\",\n        data: videoID\n      }));\n    } catch (err) {}\n\n    youtubePlayer.current.loadVideoById(videoID.split(\"=\")[1]);\n  }\n\n  function handleStream(stream) {\n    partnerVideo.current.srcObject = stream;\n  }\n\n  function handleData(data) {\n    const parsed = JSON.parse(data);\n\n    if (parsed.type === \"newVideo\") {\n      youtubePlayer.current.loadVideoById(parsed.data.split(\"=\")[1]);\n    } else if (parsed.type === \"pause\") {\n      youtubePlayer.current.pauseVideo();\n    } else {\n      youtubePlayer.current.playVideo();\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(LeftRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Video, {\n    muted: true,\n    autoPlay: true,\n    ref: userVideoRef,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Video, {\n    muted: true,\n    autoPlay: true,\n    ref: partnerVideo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(RightRow, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"player\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: stopVideo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }, \"Stop Video\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: playVideo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, \"Play Video\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"video link\",\n    value: videoID,\n    onChange: e => setVideoID(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: loadVideo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }\n  }, \"Load video\")));\n};\n\nexport default Room;","map":{"version":3,"sources":["/Users/owner/Desktop/Team-up-learning_front/src/View/CourseRoomView.js"],"names":["React","useEffect","useState","useRef","io","Peer","styled","Container","div","LeftRow","RightRow","Video","video","Room","props","socketRef","userVideoRef","partnerVideo","peerRef","youtubePlayer","videoID","setVideoID","createPeer","partnerID","callerID","stream","peer","initiator","trickle","on","signal","payload","current","emit","handleStream","handleData","addPeer","incomingSignal","navigator","mediaDevices","getUserMedia","audio","then","srcObject","connect","match","params","roomID","id","incoming","alert","tag","document","createElement","src","firstScriptTag","getElementsByTagName","parentNode","insertBefore","window","onYouTubeIframeAPIReady","loadVideoPlayer","player","YT","Player","height","width","stopVideo","send","JSON","stringify","type","err","pauseVideo","playVideo","loadVideo","data","loadVideoById","split","parsed","parse","e","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport styled from \"styled-components\";\n\nconst Container = styled.div`\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  flex-direction: row;\n`;\n\nconst LeftRow = styled.div`\n  width: 40%;\n  height: 100%;\n`;\n\nconst RightRow = styled.div`\n  flex: 1;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst Video = styled.video`\n  height: 50%;\n  width: 100%;\n  border: 1px solid black;\n`;\n\nconst Room = (props) => {\n  const socketRef = useRef();\n  const userVideoRef = useRef();\n  const partnerVideo = useRef();\n  const peerRef = useRef();\n  const youtubePlayer = useRef();\n  const [videoID, setVideoID] = useState(\"\");\n\n  useEffect(() => {\n    function createPeer(partnerID, callerID, stream) {\n      const peer = new Peer({\n        initiator: true,\n        trickle: false,\n        stream\n      });\n\n      peer.on(\"signal\", (signal) => {\n        const payload = {\n          partnerID,\n          callerID,\n          signal\n        };\n        socketRef.current.emit(\"call partner\", payload);\n      });\n\n      peer.on(\"stream\", handleStream);\n      peer.on(\"data\", handleData);\n\n      return peer;\n    }\n\n    function addPeer(incomingSignal, callerID, stream) {\n      const peer = new Peer({\n        initiator: false,\n        trickle: false,\n        stream\n      });\n\n      peer.on(\"signal\", (signal) => {\n        const payload = {\n          callerID,\n          signal\n        };\n        socketRef.current.emit(\"accept call\", payload);\n      });\n\n      peer.on(\"stream\", handleStream);\n      peer.on(\"data\", handleData);\n\n      peer.signal(incomingSignal);\n      return peer;\n    }\n\n    navigator.mediaDevices\n      .getUserMedia({ video: true, audio: true })\n      .then((stream) => {\n        userVideoRef.current.srcObject = stream;\n        socketRef.current = io.connect(\"/\");\n        socketRef.current.emit(\"join room\", props.match.params.roomID);\n\n        socketRef.current.on(\"other user\", (partnerID) => {\n          if (partnerID) {\n            peerRef.current = createPeer(\n              partnerID,\n              socketRef.current.id,\n              stream\n            );\n          }\n        });\n\n        socketRef.current.on(\"caller signal\", (incoming) => {\n          peerRef.current = addPeer(incoming.signal, incoming.callerID, stream);\n        });\n\n        socketRef.current.on(\"callee signal\", (signal) => {\n          peerRef.current.signal(signal);\n        });\n\n        socketRef.current.on(\"room full\", () => {\n          alert(\"room is full\");\n        });\n      });\n  }, [props.match.params.roomID]);\n\n  useEffect(() => {\n    const tag = document.createElement(\"script\");\n    tag.src = \"https://www.youtube.com/iframe_api\";\n    var firstScriptTag = document.getElementsByTagName(\"script\")[0];\n    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n    window.onYouTubeIframeAPIReady = loadVideoPlayer;\n  }, []);\n\n  function loadVideoPlayer() {\n    const player = new window.YT.Player(\"player\", {\n      height: \"390\",\n      width: \"640\"\n    });\n\n    youtubePlayer.current = player;\n  }\n\n  function stopVideo() {\n    try {\n          peerRef.current.send(JSON.stringify({ type: \"pause\" }));\n      }\n      catch(err) {\n      }\n    youtubePlayer.current.pauseVideo();\n  }\n\n  function playVideo() {\n    try {\n        peerRef.current.send(JSON.stringify({ type: \"play\" }));\n      }\n      catch(err) {\n      }\n    youtubePlayer.current.playVideo();\n  }\n\n  function loadVideo() {\n    try {\n        peerRef.current.send(JSON.stringify({ type: \"newVideo\", data: videoID }));\n      }\n      catch(err) {\n      }\n    youtubePlayer.current.loadVideoById(videoID.split(\"=\")[1]);\n  }\n\n\n  function handleStream(stream) {\n    partnerVideo.current.srcObject = stream;\n  }\n\n  function handleData(data) {\n    const parsed = JSON.parse(data);\n    if (parsed.type === \"newVideo\") {\n      youtubePlayer.current.loadVideoById(parsed.data.split(\"=\")[1]);\n    } else if (parsed.type === \"pause\") {\n      youtubePlayer.current.pauseVideo();\n    } else {\n      youtubePlayer.current.playVideo();\n    }\n  }\n\n  return (\n    <Container>\n      <LeftRow>\n        <Video muted autoPlay ref={userVideoRef} />\n        <Video muted autoPlay ref={partnerVideo} />\n      </LeftRow>\n      <RightRow>\n        <div id=\"player\" />\n        <button onClick={stopVideo}>Stop Video</button>\n        <button onClick={playVideo}>Play Video</button>\n        <input\n          type=\"text\"\n          placeholder=\"video link\"\n          value={videoID}\n          onChange={(e) => setVideoID(e.target.value)}\n        />\n        <button onClick={loadVideo}>Load video</button>\n      </RightRow>\n    </Container>\n  );\n};\n\nexport default Room;\n"]},"metadata":{},"sourceType":"module"}