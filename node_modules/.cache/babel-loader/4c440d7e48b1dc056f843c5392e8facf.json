{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/Team-up-learning_front/src/View/LoginView.js\";\nimport React, { useState } from 'react';\nimport API from '../Utils/api.js';\n\nfunction Login(props) {\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = () => {\n    console.log(username.value);\n    API.post(`user/login`, {\n      userName: username.value,\n      userPassword: password.value\n    }).then(response => {\n      sessionStorage.setItem(\"username\", username.value);\n      sessionStorage.setItem(\"access_token\", response.data.accessToken);\n      props.history.push('/dashboard');\n    }).catch(err => {\n      console.log(err.response.data);\n      setError(err.response.data);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, \"Login\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 12\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 18\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 7\n    }\n  }, \"Username\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"text\"\n  }, username, {\n    autoComplete: \"new-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      marginTop: 15\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }\n  }, \"Password\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({\n    type: \"password\"\n  }, password, {\n    autoComplete: \"new-password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }))), error && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"small\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 19\n    }\n  }, error), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 66\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 76\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: 'Login',\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 68\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"/register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }\n  }, \"register now!\"));\n}\n\nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n\n  return {\n    value,\n    onChange: handleChange\n  };\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/owner/Desktop/Team-up-learning_front/src/View/LoginView.js"],"names":["React","useState","API","Login","props","username","useFormInput","password","error","setError","loading","setLoading","handleLogin","console","log","value","post","userName","userPassword","then","response","sessionStorage","setItem","data","accessToken","history","push","catch","err","marginTop","color","initialValue","setValue","handleChange","e","target","onChange"],"mappings":"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","sourcesContent":["\nimport React, { useState } from 'react';\nimport API from '../Utils/api.js';\n\nfunction Login(props) {\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = () => {\n    console.log(username.value);\n    API.post(`user/login`, {\n        userName: username.value,\n        userPassword: password.value\n    }).then(response => {\n        sessionStorage.setItem(\"username\", username.value)\n        sessionStorage.setItem(\"access_token\",response.data.accessToken);\n        props.history.push('/dashboard');\n      }).catch(err => {console.log(err.response.data);setError(err.response.data)})\n  }\n\n  return (\n    <div>\n      Login<br /><br />\n      <div>\n        Username<br />\n        <input type=\"text\" {...username} autoComplete=\"new-password\" />\n      </div>\n      <div style={{ marginTop: 15 }}>\n        Password<br />\n        <input type=\"password\" {...password} autoComplete=\"new-password\" />\n      </div>\n      {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\n      <input type=\"button\" value={'Login'} onClick={handleLogin} /><br />\n      <a href=\"/register\">register now!</a>\n    </div>\n  );\n}\n\nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  }\n  return {\n    value,\n    onChange: handleChange\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}