{"ast":null,"code":"import _slicedToArray from\"/Users/owner/Desktop/teamapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import API from'../Utils/api.js';function Login(props){var username=useFormInput('');var password=useFormInput('');var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var handleLogin=function handleLogin(){console.log(username.value);API.post(\"user/login\",{userName:username.value,userPassword:password.value}).then(function(response){sessionStorage.setItem(\"username\",username.value);sessionStorage.setItem(\"access_token\",response.data.accessToken);props.history.push('/dashboard');}).catch(function(err){setError(\"Login Failed\");});};return/*#__PURE__*/React.createElement(\"div\",null,\"Login\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",null,\"Username\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",Object.assign({type:\"text\"},username,{autoComplete:\"new-password\"}))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:15}},\"Password\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",Object.assign({type:\"password\"},password,{autoComplete:\"new-password\"}))),error&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"small\",{style:{color:'red'}},error),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"button\",value:'Login',onClick:handleLogin}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"a\",{href:\"/register\"},\"register now!\"));}var useFormInput=function useFormInput(initialValue){var _useState5=useState(initialValue),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];var handleChange=function handleChange(e){setValue(e.target.value);};return{value:value,onChange:handleChange};};export default Login;","map":{"version":3,"sources":["/Users/owner/Desktop/teamapp/src/View/LoginView.js"],"names":["React","useState","API","Login","props","username","useFormInput","password","error","setError","loading","setLoading","handleLogin","console","log","value","post","userName","userPassword","then","response","sessionStorage","setItem","data","accessToken","history","push","catch","err","marginTop","color","initialValue","setValue","handleChange","e","target","onChange"],"mappings":"mJACA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CAEA,QAASC,CAAAA,KAAT,CAAeC,KAAf,CAAsB,CACpB,GAAMC,CAAAA,QAAQ,CAAGC,YAAY,CAAC,EAAD,CAA7B,CACA,GAAMC,CAAAA,QAAQ,CAAGD,YAAY,CAAC,EAAD,CAA7B,CAFoB,cAGML,QAAQ,CAAC,IAAD,CAHd,wCAGbO,KAHa,eAGNC,QAHM,8BAIUR,QAAQ,CAAC,KAAD,CAJlB,yCAIbS,OAJa,eAIJC,UAJI,eAMpB,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBC,OAAO,CAACC,GAAR,CAAYT,QAAQ,CAACU,KAArB,EACAb,GAAG,CAACc,IAAJ,cAAuB,CACnBC,QAAQ,CAAEZ,QAAQ,CAACU,KADA,CAEnBG,YAAY,CAAEX,QAAQ,CAACQ,KAFJ,CAAvB,EAGGI,IAHH,CAGQ,SAAAC,QAAQ,CAAI,CAChBC,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAmCjB,QAAQ,CAACU,KAA5C,EACAM,cAAc,CAACC,OAAf,CAAuB,cAAvB,CAAsCF,QAAQ,CAACG,IAAT,CAAcC,WAApD,EACApB,KAAK,CAACqB,OAAN,CAAcC,IAAd,CAAmB,YAAnB,EACD,CAPH,EAOKC,KAPL,CAOW,SAAAC,GAAG,CAAI,CAACnB,QAAQ,CAAC,cAAD,CAAR,CAAyB,CAP5C,EAQD,CAVD,CAYA,mBACE,oDACO,8BADP,cACa,8BADb,cAEE,uDACU,8BADV,cAEE,2CAAO,IAAI,CAAC,MAAZ,EAAuBJ,QAAvB,EAAiC,YAAY,CAAC,cAA9C,GAFF,CAFF,cAME,2BAAK,KAAK,CAAE,CAAEwB,SAAS,CAAE,EAAb,CAAZ,0BACU,8BADV,cAEE,2CAAO,IAAI,CAAC,UAAZ,EAA2BtB,QAA3B,EAAqC,YAAY,CAAC,cAAlD,GAFF,CANF,CAUGC,KAAK,eAAI,qDAAE,6BAAO,KAAK,CAAE,CAAEsB,KAAK,CAAE,KAAT,CAAd,EAAiCtB,KAAjC,CAAF,cAAiD,8BAAjD,CAVZ,cAUuE,8BAVvE,cAWE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAE,OAA5B,CAAqC,OAAO,CAAEI,WAA9C,EAXF,cAW+D,8BAX/D,cAYE,yBAAG,IAAI,CAAC,WAAR,kBAZF,CADF,CAgBD,CAED,GAAMN,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAyB,YAAY,CAAI,gBACT9B,QAAQ,CAAC8B,YAAD,CADC,yCAC5BhB,KAD4B,eACrBiB,QADqB,eAGnC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACxBF,QAAQ,CAACE,CAAC,CAACC,MAAF,CAASpB,KAAV,CAAR,CACD,CAFD,CAGA,MAAO,CACLA,KAAK,CAALA,KADK,CAELqB,QAAQ,CAAEH,YAFL,CAAP,CAID,CAVD,CAYA,cAAe9B,CAAAA,KAAf","sourcesContent":["\nimport React, { useState } from 'react';\nimport API from '../Utils/api.js';\n\nfunction Login(props) {\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleLogin = () => {\n    console.log(username.value);\n    API.post(`user/login`, {\n        userName: username.value,\n        userPassword: password.value\n    }).then(response => {\n        sessionStorage.setItem(\"username\", username.value)\n        sessionStorage.setItem(\"access_token\",response.data.accessToken);\n        props.history.push('/dashboard');\n      }).catch(err => {setError(\"Login Failed\")})\n  }\n\n  return (\n    <div>\n      Login<br /><br />\n      <div>\n        Username<br />\n        <input type=\"text\" {...username} autoComplete=\"new-password\" />\n      </div>\n      <div style={{ marginTop: 15 }}>\n        Password<br />\n        <input type=\"password\" {...password} autoComplete=\"new-password\" />\n      </div>\n      {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\n      <input type=\"button\" value={'Login'} onClick={handleLogin} /><br />\n      <a href=\"/register\">register now!</a>\n    </div>\n  );\n}\n\nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n\n  const handleChange = e => {\n    setValue(e.target.value);\n  }\n  return {\n    value,\n    onChange: handleChange\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}