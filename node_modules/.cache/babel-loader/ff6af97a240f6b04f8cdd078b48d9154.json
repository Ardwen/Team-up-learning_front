{"ast":null,"code":"import _slicedToArray from\"/Users/owner/Desktop/teamapp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import API from'../Utils/api.js';function Register(props){var username=useFormInput('');var password=useFormInput('');var email=useFormInput('');var _useState=useState(null),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var handleRegister=function handleRegister(){console.log(username.value);API.post(\"user/register\",{userName:username.value,userEmail:email.value,userPassword:password.value}).then(function(response){props.history.push('/');}).catch(function(err){return setError(\"Register Failed. Username or email already exist\");});};return/*#__PURE__*/React.createElement(\"div\",null,\"Sign up\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",null,\"Username\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",Object.assign({type:\"text\"},username,{autoComplete:\"new-password\"}))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:15}},\"Email\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",Object.assign({type:\"email\"},email,{autoComplete:\"new-email\"}))),/*#__PURE__*/React.createElement(\"div\",{style:{marginTop:15}},\"Password\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",Object.assign({type:\"password\"},password,{autoComplete:\"new-password\"}))),error&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"small\",{style:{color:'red'}},error),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"button\",value:loading?'Loading...':'Sign Up',onClick:handleRegister,disabled:loading}),/*#__PURE__*/React.createElement(\"br\",null));}var useFormInput=function useFormInput(initialValue){var _useState5=useState(initialValue),_useState6=_slicedToArray(_useState5,2),value=_useState6[0],setValue=_useState6[1];var handleChange=function handleChange(e){setValue(e.target.value);};return{value:value,onChange:handleChange};};export default Register;","map":{"version":3,"sources":["/Users/owner/Desktop/teamapp/src/View/RegisterView.js"],"names":["React","useState","API","Register","props","username","useFormInput","password","email","error","setError","loading","setLoading","handleRegister","console","log","value","post","userName","userEmail","userPassword","then","response","history","push","catch","err","marginTop","color","initialValue","setValue","handleChange","e","target","onChange"],"mappings":"mJAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CAEA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CACvB,GAAMC,CAAAA,QAAQ,CAAGC,YAAY,CAAC,EAAD,CAA7B,CACA,GAAMC,CAAAA,QAAQ,CAAGD,YAAY,CAAC,EAAD,CAA7B,CACA,GAAME,CAAAA,KAAK,CAAGF,YAAY,CAAC,EAAD,CAA1B,CAHuB,cAIGL,QAAQ,CAAC,IAAD,CAJX,wCAIhBQ,KAJgB,eAITC,QAJS,8BAKOT,QAAQ,CAAC,KAAD,CALf,yCAKhBU,OALgB,eAKPC,UALO,eAOvB,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BC,OAAO,CAACC,GAAR,CAAYV,QAAQ,CAACW,KAArB,EACEd,GAAG,CAACe,IAAJ,iBAA0B,CACxBC,QAAQ,CAAEb,QAAQ,CAACW,KADK,CAExBG,SAAS,CAAEX,KAAK,CAACQ,KAFO,CAGxBI,YAAY,CAAEb,QAAQ,CAACS,KAHC,CAA1B,EAKDK,IALC,CAKI,SAAAC,QAAQ,CAAI,CACZlB,KAAK,CAACmB,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EACL,CAPC,EAQDC,KARC,CAQK,SAAAC,GAAG,QAAIhB,CAAAA,QAAQ,CAAC,kDAAD,CAAZ,EARR,EASH,CAXD,CAaA,mBACE,sDACS,8BADT,cACe,8BADf,cAEE,uDACU,8BADV,cAEE,2CAAO,IAAI,CAAC,MAAZ,EAAuBL,QAAvB,EAAiC,YAAY,CAAC,cAA9C,GAFF,CAFF,cAME,2BAAK,KAAK,CAAE,CAAEsB,SAAS,CAAE,EAAb,CAAZ,uBACO,8BADP,cAEE,2CAAO,IAAI,CAAC,OAAZ,EAAwBnB,KAAxB,EAA+B,YAAY,CAAC,WAA5C,GAFF,CANF,cAUE,2BAAK,KAAK,CAAE,CAAEmB,SAAS,CAAE,EAAb,CAAZ,0BACU,8BADV,cAEE,2CAAO,IAAI,CAAC,UAAZ,EAA2BpB,QAA3B,EAAqC,YAAY,CAAC,cAAlD,GAFF,CAVF,CAcGE,KAAK,eAAI,qDAAE,6BAAO,KAAK,CAAE,CAAEmB,KAAK,CAAE,KAAT,CAAd,EAAiCnB,KAAjC,CAAF,cAAiD,8BAAjD,CAdZ,cAcuE,8BAdvE,cAeE,6BAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAEE,OAAO,CAAG,YAAH,CAAkB,SAArD,CAAgE,OAAO,CAAEE,cAAzE,CAAyF,QAAQ,CAAEF,OAAnG,EAfF,cAegH,8BAfhH,CADF,CAmBD,CAED,GAAML,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAuB,YAAY,CAAI,gBACT5B,QAAQ,CAAC4B,YAAD,CADC,yCAC5Bb,KAD4B,eACrBc,QADqB,eAEnC,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACxBF,QAAQ,CAACE,CAAC,CAACC,MAAF,CAASjB,KAAV,CAAR,CACD,CAFD,CAGA,MAAO,CACLA,KAAK,CAALA,KADK,CAELkB,QAAQ,CAAEH,YAFL,CAAP,CAID,CATD,CAWA,cAAe5B,CAAAA,QAAf","sourcesContent":["import React, { useState } from 'react';\nimport API from '../Utils/api.js';\n\nfunction Register(props) {\n  const username = useFormInput('');\n  const password = useFormInput('');\n  const email = useFormInput('');\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleRegister = () => {\n    console.log(username.value)\n      API.post(`user/register`, {\n        userName: username.value,\n        userEmail: email.value,\n        userPassword: password.value\n      })\n    .then(response => {\n          props.history.push('/');\n    })\n    .catch(err => setError(\"Register Failed. Username or email already exist\"))\n  }\n\n  return (\n    <div>\n      Sign up<br /><br />\n      <div>\n        Username<br />\n        <input type=\"text\" {...username} autoComplete=\"new-password\" />\n      </div>\n      <div style={{ marginTop: 15 }}>\n        Email<br />\n        <input type=\"email\" {...email} autoComplete=\"new-email\" />\n      </div>\n      <div style={{ marginTop: 15 }}>\n        Password<br />\n        <input type=\"password\" {...password} autoComplete=\"new-password\" />\n      </div>\n      {error && <><small style={{ color: 'red' }}>{error}</small><br /></>}<br />\n      <input type=\"button\" value={loading ? 'Loading...' : 'Sign Up'} onClick={handleRegister} disabled={loading} /><br />\n    </div>\n  );\n}\n\nconst useFormInput = initialValue => {\n  const [value, setValue] = useState(initialValue);\n  const handleChange = e => {\n    setValue(e.target.value);\n  }\n  return {\n    value,\n    onChange: handleChange\n  }\n}\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}