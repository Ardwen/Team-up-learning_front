{"ast":null,"code":"var _jsxFileName = \"/Users/owner/Desktop/Team-up-learning_front/src/View/CourseManagementBoard/mailbox.js\";\nimport React from \"react\";\nimport { Col, Card, Row } from \"antd\";\nimport { TeamOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport API from \"../../Utils/api.js\";\nconst {\n  Meta\n} = Card;\n\nclass Mailbox extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      invitations: []\n    };\n  }\n\n  componentWillMount() {\n    API.get(`user/Susie`).then(res => {\n      let rows = res.data.mailBox.map((item, i) => {\n        return {\n          key: i,\n          _id: item._id,\n          courseName: item.courseName,\n          date: item.date,\n          time: item.time,\n          participants: item.participants,\n          courseID: item.courseID\n        };\n      });\n      console.log(rows);\n      this.setState({\n        invitations: rows\n      });\n    });\n  }\n\n  HandleDelete(id, index) {\n    API.delete(`/mailBox/${id}`).then(response => {\n      var array = [...this.state.invitations];\n      array.splice(index, 1);\n      this.setState({\n        invitations: array\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  HandleSubmit(id, index) {\n    API.get(`/mailBox/accept/${id}`).then(response => {\n      var array = [...this.state.invitations];\n      array.splice(index, 1);\n      this.setState({\n        invitations: array\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  renderCards(invitations) {\n    invitations.map((Item, index) => {\n      return /*#__PURE__*/React.createElement(Col, {\n        span: 6,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        title: `${Item.sendById} invitation`,\n        style: {\n          width: 300\n        },\n        hoverable: true,\n        actions: [/*#__PURE__*/React.createElement(TeamOutlined, {\n          onClick: this.HandleSubmit(Item._id, Item.key),\n          key: \"Join\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }\n        }), /*#__PURE__*/React.createElement(DeleteOutlined, {\n          onClick: this.HandleDelete(Item._id, Item.key),\n          key: \"Decline\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }\n        })],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }\n      }, `${Item.sendById} invites you to join the studying on course ${Item.courseName}\n                  The meeting will start at ${Item.time[0]}-${Item.time[1]} on ${Item.date}`)));\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        maxWidth: \"700px\",\n        margin: \"2rem auto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }\n    }), this.state.invitations.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: \"flex\",\n        height: \"300px\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }, \"No post yet...\")) : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 11\n      }\n    }, \"test content\"), /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }, this.state.invitations.map((Item, index) => {\n      return /*#__PURE__*/React.createElement(Col, {\n        span: 12,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        title: `${Item.sendById} invitation`,\n        style: {\n          width: 300\n        },\n        hoverable: true,\n        actions: [/*#__PURE__*/React.createElement(TeamOutlined, {\n          onClick: () => this.HandleSubmit(Item._id, Item.key),\n          key: \"Join\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 23\n          }\n        }), /*#__PURE__*/React.createElement(DeleteOutlined, {\n          onClick: () => this.HandleDelete(Item._id, Item.key),\n          key: \"Decline\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 23\n          }\n        })],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }\n      }, `${Item.sendById} invites you to join the studying on course ${Item.courseName}\n                          The meeting will start at ${Item.time[0]}-${Item.time[1]} on ${Item.date}`)));\n    }))));\n  }\n\n}\n\nexport default Mailbox;","map":{"version":3,"sources":["/Users/owner/Desktop/Team-up-learning_front/src/View/CourseManagementBoard/mailbox.js"],"names":["React","Col","Card","Row","TeamOutlined","DeleteOutlined","API","Meta","Mailbox","Component","state","invitations","componentWillMount","get","then","res","rows","data","mailBox","map","item","i","key","_id","courseName","date","time","participants","courseID","console","log","setState","HandleDelete","id","index","delete","response","array","splice","catch","err","HandleSubmit","renderCards","Item","sendById","width","render","maxWidth","margin","length","display","height","justifyContent","alignItems"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Col, Card, Row } from \"antd\";\nimport { TeamOutlined, DeleteOutlined } from \"@ant-design/icons\";\nimport API from \"../../Utils/api.js\";\n\nconst { Meta } = Card;\n\nclass Mailbox extends React.Component {\n  state = {\n    invitations: []\n  };\n\n  componentWillMount() {\n    API.get(`user/Susie`)\n      .then(res => {\n        let rows = res.data.mailBox.map((item,i) => {\n           return {\n             key:i,\n             _id:item._id,\n             courseName:item.courseName,\n             date:item.date,\n             time:item.time,\n             participants:item.participants,\n             courseID:item.courseID};\n        });\n        console.log(rows);\n        this.setState({\n          invitations: rows\n        });\n      })\n  }\n\n  HandleDelete(id, index){\n    API.delete(`/mailBox/${id}`)\n      .then((response) => {\n        var array = [...this.state.invitations];\n        array.splice(index, 1);\n        this.setState({\n          invitations: array\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  HandleSubmit(id, index){\n    API.get(`/mailBox/accept/${id}`)\n      .then((response) => {\n        var array = [...this.state.invitations];\n        array.splice(index, 1);\n        this.setState({\n          invitations: array\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  renderCards(invitations){\n    invitations.map((Item, index) => {\n      return (\n        <Col span={6}>\n          <Card\n            title={`${Item.sendById} invitation`}\n            style={{ width: 300 }}\n            hoverable={true}\n            actions={[\n              <TeamOutlined\n              onClick={this.HandleSubmit(Item._id, Item.key)}\n               key=\"Join\" />,\n              <DeleteOutlined\n                onClick={this.HandleDelete(Item._id, Item.key)}\n                key=\"Decline\"\n              />\n            ]}\n          >\n            <p>\n              {`${Item.sendById} invites you to join the studying on course ${Item.courseName}\n                  The meeting will start at ${Item.time[0]}-${Item.time[1]} on ${Item.date}`}\n            </p>\n          </Card>\n        </Col>\n      );\n    });\n  }\n\n  render() {\n    return (\n      <div style={{ maxWidth: \"700px\", margin: \"2rem auto\" }}>\n        <br />\n        {this.state.invitations.length === 0 ? (\n          <div\n            style={{\n              display: \"flex\",\n              height: \"300px\",\n              justifyContent: \"center\",\n              alignItems: \"center\"\n            }}\n          >\n            <h2>No post yet...</h2>\n          </div>\n        ) : (\n          <div>\n          <p>test content</p>\n            <Row>\n            {this.state.invitations.map((Item, index) => {\n              return (\n                <Col span={12}>\n                  <Card\n                    title={`${Item.sendById} invitation`}\n                    style={{ width: 300 }}\n                    hoverable={true}\n                    actions={[\n                      <TeamOutlined\n                      onClick={()=>this.HandleSubmit(Item._id, Item.key)}\n                       key=\"Join\" />,\n                      <DeleteOutlined\n                        onClick={()=>this.HandleDelete(Item._id, Item.key)}\n                        key=\"Decline\"\n                      />\n                    ]}\n                  >\n                    <p>\n                      {`${Item.sendById} invites you to join the studying on course ${Item.courseName}\n                          The meeting will start at ${Item.time[0]}-${Item.time[1]} on ${Item.date}`}\n                    </p>\n                  </Card>\n                </Col>\n              );\n            })}\n\n            </Row>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\nexport default Mailbox;\n"]},"metadata":{},"sourceType":"module"}